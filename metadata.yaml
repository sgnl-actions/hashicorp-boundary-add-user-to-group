# yaml-language-server: $schema=https://raw.githubusercontent.com/sgnl-actions/schemas/main/metadata.schema.json
name: hashicorp-boundary-add-user-to-group
description: Add a user to a group in HashiCorp Boundary

# Input parameters for web form generation
inputs:
  groupId:
    type: text
    description: The Boundary group ID to add user to
    required: true
    validation:
      min: 1
      max: 200

  userId:
    type: text
    description: The Boundary user ID to add to group
    required: true
    validation:
      min: 1
      max: 200

  authMethodId:
    type: text
    description: The Boundary auth method ID for authentication
    required: true
    validation:
      min: 1
      max: 200

# Expected output structure
outputs:
  groupId:
    type: text
    description: The group ID that was processed

  userId:
    type: text
    description: The user ID that was added

  authMethodId:
    type: text
    description: The auth method ID used for authentication

  userAdded:
    type: boolean
    description: Whether the user was successfully added to group

  addedAt:
    type: datetime
    description: When the operation completed (ISO 8601)

# Required secrets (configured at deployment time)
secrets:
  - BOUNDARY_USERNAME
  - BOUNDARY_PASSWORD
  - BOUNDARY_BASE_URL

# Runtime configuration
runtime:
  type: nodejs-22
  timeout: 30s
  memory: 128Mi